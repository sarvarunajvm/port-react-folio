import{j as r,r as e,m as t}from "./react-vendor-chunk-D9hVw-Za.js";const s=({error:e,resetError:s})=>r.jsx(t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"min-h-[400px] flex items-center justify-center p-8",children:r.jsx("div",{className:"neu-pressed p-8 rounded-2xl max-w-md w-full",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"text-6xl",children:"ðŸš¨"}),r.jsx("h2",{className:"text-2xl font-bold text-primary",children:"Oops! Something went wrong"}),r.jsx("p",{className:"text-muted text-sm",children:e.message}),!1,r.jsx("button",{onClick:s,className:"mt-6 px-6 py-3 neu-raised rounded-lg font-medium hover:scale-105 transition-transform",children:"Try Again"})]})})});class o extends e.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r, e){const{onError:t,maxRetries:s=3}=this.props,{errorCount:o}=this.state;this.setState({errorInfo:e,errorCount:o+1}),t&&t(r,e),"undefined"!=typeof window&&window.errorReporter&&window.errorReporter.log({error:r,errorInfo:e,level:this.props.level||"component",timestamp:(new Date).toISOString()}),o>=s&&setTimeout(()=>{window.location.reload()},3e3)}componentDidUpdate(r){const{resetKeys:e,resetOnPropsChange:t}=this.props,{hasError:s}=this.state;if(s){if(t){Object.keys(r).some(e=>"children"!==e&&r[e]!==this.props[e])&&this.resetError()}if(e){e.some(e=>r[String(e)]!==this.props[String(e)])&&this.resetError()}}}resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){const{hasError:e,error:t,errorInfo:o}=this.state,{children:n,fallback:i=s,isolate:a}=this.props;return e&&t?a?r.jsx("div",{className:"border-2 border-red-500 border-dashed rounded-lg p-4",children:r.jsx(i,{error:t,errorInfo:o,resetError:this.resetError})}):r.jsx(i,{error:t,errorInfo:o,resetError:this.resetError}):n}}function n(e, t){const s= s=>r.jsx(o,{...t,children:r.jsx(e,{...s})});return s.displayName=`withErrorBoundary(${e.displayName||e.name})`,s}const i=new Map;function a(t, s={}){const{enableProfiling:o=!1,warnThreshold:n=16,memoize:a=!0,reportTo:l}=s,c=t.displayName||t.name||"Unknown",d=(r, e, t, s, o, n)=>{const a={id:r,phase:e,actualDuration:t,baseDuration:s,startTime:o,commitTime:n,interactions:new Set};i.has(r)||i.set(r,[]),i.get(r).push(a),l&&l(a)},m= s=>{const n=e.useMemo(()=>a?e.memo(t):t,[]);return o?r.jsx(e.Profiler,{id:c,onRender:d,children:r.jsx(n,{...s})}):r.jsx(n,{...s})};return m.displayName=`withPerformance(${c})`,m}export{n as a,a as w};
